{"version":3,"file":"static/js/304.7b33fe2f.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Button/Button.module.css?ce6f","components/Button/Button.jsx","webpack://react-homework-template/./src/components/MovieGalleryItem/MovieGalleryItem.module.css?31fb","components/MovieGalleryItem/MovieGalleryItem.jsx","webpack://react-homework-template/./src/components/MovieGallery/MovieGallery.module.css?cb9b","components/MovieGallery/MovieGallery.jsx","webpack://react-homework-template/./src/pages/Home.module.css?8f25","pages/Home.jsx","services/moviesApi.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"button\":\"Button_button__wiIYs\"};","import PropTypes from 'prop-types';\nimport css from '../Button/Button.module.css';\n\nexport const Button = ({ onLoadMoreButton, children }) => {\n    return <button type=\"submit\" onClick={onLoadMoreButton} className={css.button}>{children}</button>\n}\n\n\n\nButton.propTypes = {\n    children: PropTypes.string,\n    onLoadMoreButton: PropTypes.func.isRequired,\n}","// extracted by mini-css-extract-plugin\nexport default {\"movieGalleryItem\":\"MovieGalleryItem_movieGalleryItem__DcGLI\",\"movieGalleryItem__image\":\"MovieGalleryItem_movieGalleryItem__image__xyUPd\"};","import { Link, useLocation } from \"react-router-dom\";\nimport foto from '../../images/poster-not-found-main.jpg';\nimport PropTypes from \"prop-types\";\nimport css from './MovieGalleryItem.module.css';\n\nexport const MovieGalleryItem = ({ poster_path, original_title, id }) => {\n    const baseUrl = 'https://image.tmdb.org/t/p/';\n    const fileSize = 'w500';\n    let URI = `${baseUrl}${fileSize}${poster_path}`;\n\n    if (poster_path === null || poster_path === undefined) {\n        URI = foto;\n    }\n\n    const location = useLocation();\n    const currentPage = location.pathname === \"/\" ? \"/movies\" : location.pathname;\n\n    return <li className={css.movieGalleryItem}>\n            <Link to={`${currentPage}/${id}`} state={{from: location}}>\n                <img src={URI} alt={original_title} className={css.movieGalleryItem__image}/>\n            </Link>\n        </li>\n}\n\n\nMovieGalleryItem.propTypes = {\n    poster_path: PropTypes.string.isRequired,\n    original_title: PropTypes.string.isRequired,\n    id: PropTypes.number.isRequired,\n}","// extracted by mini-css-extract-plugin\nexport default {\"movieGallery\":\"MovieGallery_movieGallery__M2pL-\"};","import PropTypes from 'prop-types';\nimport { MovieGalleryItem } from '../MovieGalleryItem/MovieGalleryItem';\nimport css from './MovieGallery.module.css';\n\nexport const MovieGallery = ({ movies }) => {\n    return <ul className={css.movieGallery}>\n                {movies.length > 0 && movies.map(movie => (\n                    <MovieGalleryItem key={movie.id} {...movie} />\n                ))}\n            </ul>\n}\n\n\n\nMovieGallery.propTypes = {\n    movies: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.number.isRequired,\n            movie: PropTypes.string,\n        })\n    )\n}","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Home_container__AHomM\",\"title\":\"Home_title__qAdt+\"};","import { useEffect, useState } from \"react\";\nimport Notiflix from 'notiflix';\nimport { getTrendingMovies } from \"services/moviesApi\";\nimport { Loader } from 'components/Loader/Loader';\nimport { Button } from \"components/Button/Button\";\nimport { MovieGallery } from 'components/MovieGallery/MovieGallery';\nimport css from './Home.module.css';\n\nconst Home = () => {\n    const [movies, setMovies] = useState([]);\n    const [page, setPage] = useState(1);\n    const [isLoading, setIsLoading] = useState(false);\n    const [isVissible, setIsVissible] = useState(false);\n    const [, setError] = useState(false);\n\n\n    useEffect(() => {\n        const getMovies = async () => {\n        setIsLoading(true);\n\n        try {\n            const { results, total_results } = await getTrendingMovies(page);\n\n            if (page > Math.ceil(total_results / 20)) {\n                setIsVissible(false)\n                return Notiflix.Notify.warning(\"We're sorry, but you've reached the end of search results.\");\n            };\n            \n            setMovies(prevState => [...prevState, ...results]);\n            setIsVissible(page < Math.ceil(total_results / 20))\n            \n        } catch (error) {\n        setError(error.message);\n        \n        }\n        finally {\n            setIsLoading(false)\n        }\n        }\n    \n        getMovies();\n    },[page])\n\n    const loadMoreButton = () => {\n        setPage(prevState => (prevState + 1))\n    };\n\n    return (\n            <div className={css.container}>\n                <h1 className={css.title}>Trending today</h1>\n                {isLoading && <Loader />}\n                <MovieGallery movies={movies} />\n                {isVissible && (<Button disabled={isLoading} onLoadMoreButton={loadMoreButton}>\n                {isLoading ? 'Loading...' : 'Load more'}\n                </Button>)}\n            </div>\n    )\n}\n\nexport default Home;","import axios from \"axios\";\n\nexport const getTrendingMovies = async (page=1) => {\n    const {data} = await axios.get(`https://api.themoviedb.org/3/trending/movie/day?api_key=1a0f2de132857590e908bb553dea49ea&page=${page}`);\n    return data;\n}\n\nexport const getMovieDetails = async (movie_id) => {\n    const { data } = await axios.get(`https://api.themoviedb.org/3/movie/${movie_id}?api_key=1a0f2de132857590e908bb553dea49ea`);\n    return data;\n}\n\nexport const getCastDetails = async (movie_id) => {\n    const { data } = await axios.get(`https://api.themoviedb.org/3/movie/${movie_id}/credits?api_key=1a0f2de132857590e908bb553dea49ea`);\n    return data;\n}\n\nexport const getReviewsDetails = async (movie_id) => {\n    const { data } = await axios.get(`https://api.themoviedb.org/3/movie/${movie_id}/reviews?api_key=1a0f2de132857590e908bb553dea49ea`);\n    return data;\n}\n\n export const getSearchMovies = async (query, page=1) => {\n     const { data } = await axios.get(`https://api.themoviedb.org/3/search/movie?api_key=1a0f2de132857590e908bb553dea49ea&query=${query}&page=${page}`);\n    return data;\n  }"],"names":["Button","onLoadMoreButton","children","type","onClick","className","css","MovieGalleryItem","poster_path","original_title","id","URI","undefined","foto","location","useLocation","currentPage","pathname","to","state","from","src","alt","MovieGallery","movies","length","map","movie","useState","setMovies","page","setPage","isLoading","setIsLoading","isVissible","setIsVissible","setError","useEffect","getMovies","getTrendingMovies","results","total_results","Math","ceil","Notiflix","prevState","message","Loader","disabled","axios","data","getMovieDetails","movie_id","getCastDetails","getReviewsDetails","getSearchMovies","query"],"sourceRoot":""}